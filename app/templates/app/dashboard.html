{% extends "app/base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'app/css/dashboard/transaction_app.css' %}">
{% endblock %}

{% block title %}Dashboard{% endblock %}

{% block content %}
{% include "app/modals/add_transaction.html" %}

<section class="section" x-cloak
         style="margin-bottom: 0 !important; padding-bottom: 0 !important; padding-top:0 !important;">
	<div x-data class="container is-max-desktop">

		<!-- Transactions header: Add button / Compact toggle / Balance -->
		<div class="transactions-header" style="display:flex; justify-content:space-between; align-items:center;">

			<!-- Left: Add Transaction + Compact Toggle -->
			<div style="display:flex; align-items:center; gap:0.75rem;">
				<button class="button is-primary" @click="$store.app.openTransactionModal()">
					Add Transaction
				</button>
			</div>

			<!-- Right: Balance -->
			<div class="balance-container" x-cloak style="text-align:right;">
				<div class="balance-title has-text-weight-bold">Balance</div>
				<div :style="`color: ${$store.app.balance < 0 ? '#e74c3c' : '#2ecc71'}`">
					<span class="balance-value is-size-4"
					      x-html="$store.app.balance.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2}) + '&nbsp;PLN'">
					</span>
				</div>
			</div>

		</div>

		<!-- Transaction table -->
		{% include "app/components/dashboard/transaction_table.html" %}

	</div>
</section>
{% endblock %}

{% block extra_js %}
<!-- Add page-specific JS here if needed -->
{% endblock %}
