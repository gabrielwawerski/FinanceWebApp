{% extends "app/base.html" %}

{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'app/css/dashboard/transaction_app.css' %}">
{% endblock %}

{% block title %}Dashboard{% endblock %}

{% block content %}
{% include "app/modals/add_transaction.html" %}
<section class="section" x-cloak
         style="margin-bottom: 0 !important; padding-bottom: 1rem !important; padding-top: 0 !important;">
	<div x-data="transactionApp()" class="container is-max-desktop">

		<div class="transactions-header">
			<!-- Left: Add Transaction -->
			<div style="display: flex; align-items: center;">
			<button class="button is-primary is-normal" @click="$store.app.openTransactionModal()">Add Transaction
			</button>

			<template x-if="!$store.app.isMobile">
				<button class="button is-small ml-3"
				        @click="$store.settings.isCompactMode = !$store.settings.isCompactMode"
				        x-text="$store.settings.isCompactMode ? 'Normal View' : 'Compact View'">
				</button>
			</template>
				</div>
			<!-- Right: Balance -->
			<div class="balance-container">
				<div class="balance-title has-text-weight-bold">
					Balance
				</div>
				<div :style="`color: ${$store.app.balance < 0 ? '#e74c3c' : '#2ecc71'}`">
			<span class="balance-value is-size-4"
			      x-text="$store.app.balance.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2}) + '&nbsp;PLN'"></span>
				</div>
			</div>
		</div>
		<!--		<hr style="margin-top: .6rem !important; margin-bottom: 0 !important;">-->
		{% include "app/components/dashboard/transaction_table.html" %}
	</div>
</section>

{% endblock %}

{% block extra_js %}
{% endblock %}
